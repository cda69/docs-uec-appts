---
title: Deployment Toolkit - Path to Live
sidebar: deployment_sidebar
keywords: guidance
permalink: dep_devptl.html
toc: false
folder: deployment
---

{% include note-notpublished.html %}

<div class="mxgraph" style="max-width:100%;" data-mxgraph="{&quot;highlight&quot;:&quot;#0000ff&quot;,&quot;lightbox&quot;:false,&quot;nav&quot;:true,&quot;edit&quot;:&quot;_blank&quot;,&quot;xml&quot;:&quot;&lt;mxfile host=\&quot;Electron\&quot; modified=\&quot;2020-06-25T15:16:17.897Z\&quot; agent=\&quot;5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) draw.io/13.2.2 Chrome/83.0.4103.100 Electron/9.0.3 Safari/537.36\&quot; etag=\&quot;hIvOtbbuB49bmmyUH25M\&quot; version=\&quot;13.2.2\&quot; type=\&quot;device\&quot;&gt;&lt;diagram name=\&quot;Page-1\&quot; id=\&quot;12e1b939-464a-85fe-373e-61e167be1490\&quot;&gt;7Zxbb6M4FMc/TR5b+cL1MRfSqTQ7W21arTRvBJwEFXAWyKX76dcGQ0LstqxKAmmbSFM4dkw4P/vwPwcyAzyO9neJu179QX0SDhDw9wM8GSCEDGCyP9zyIiy6jgvLMgn8wgYPhlnwLxFGIKybwCdprWNGaZgF67rRo3FMvKxmc5OE7urdFjSsH3XtLolkmHluWFpv9YP978DPVsIODfvQ8IMEy5U4uIWMomHues/LhG5iccQBwov8VTRHbjmWONV05fp0d2TCzgCPE0qzYivaj0nI3Vs6rvjc9JXW6nwSEmdNPmAA37Xm9kJDhqb52L1BxQhbN9yQ8hTyL5q9lO7ZrYKMzNaux/d3bA4M8GiVRSHbg2wzP3vii73qBAHfyRL6XHnUYpYFjTMxARDv4YbBMmY7Hvv+JOEdgjAc05Am+bGx7xJr4VVDHbUYnkXmC9Yiu0B4ZUuSjOyPTMIld4RGJEteWJey1RQ4xQzGhsC1O0wGZAnb6mgeaFgYXTEFl9XYBwhsQ3BoyARLTCZkS0K6ltCw88vqNOp+imlMTpwqTJLjubcCtiaGoiEKfJ8fZqTCf2AOTpkfEzbF/hE2kL/KfuJMFNP44wythgyNcyDUJIRPDhsFjCh9DuIl25qQiMaMlpsx11wXV6i9wfUMKI2mKO1zoDTej5BhkPu+Hu7Qa2Hy3SXzZlAUnKV4OM1fLQGw6wA0TQFAUwCA5wBgfgMwVBekiwGwJAB/kZS4ibeSQLCRmGp7Lbw0o1GnaChiz3uqYTQdaUP7TUgn4atVeNCuwdOBDA9CXQGvNLZKz35/+RxfZ45J+G66qhg1v7KwMdZ85Gi/5BnDbaHR0S0/YpASf8j3+fDcQeCWE86zCY0fJqaZx53EfMEoESag+cFYN02eNbWJAhUL+d2rZqHXkee1g54t1Dp6ZMnowaVECGwQObsU93Po+wugWqYQmNgm7TDR9F6JeyhH03vmHrZSsoDGPPUlaZZLxKvShCqtbwH+PoPWl5B2qvWhHGHvfz0ygxNvg4TGET/R66KpUvgVzTMA7Fbhl8WZr6QwNbNPEr/6/l+YQLcav3R4veh049FoHZKMSDT6IfSxbU6Gw66EPrZ7JfSRXDeUsH0r/ZaUvq71Sekjud4ooe9S6SMwdBykWqcAGM5QsU7FXZRWWJm4VxkA0iVYwzTdJHKQ7bdIVEn+cf46g+SXGHYq+ZFcFJ6Nhz+vDKBK5VcAz8CsY5X/BevIpt4rlS+XPr4cgY5VvlyqcGL/JqPsX1F6koj0Q+k7UxvruCulb5i9Uvq4QcHiW+m3pPSrZ316ofRxg0pJl0ofOLbuTNVKH05GY3mdtqn0IYC9kvpYrqo8JHQb+Mx1CDx+mkp/LQa3+lSPBLRT3Y/lEsvPYMsSNzB7uP/lXBlJlf5v9Ub4KbxuEwDcoEjy2eQnBLhPGQCWSx9fD0G3KQCWSxePxFvFPLYM8mesFzSJ3NjjUW3Mg86CNfX2DgCvVgDlMwSXyAtsvV95QYMSx3de0FJeACHoMDEY/Zj9Du9eUned7fwYjSLn6bfiwXEJf6e5AdABWXwgN5DgKBC+zgvZXeYGSmCyIjmOxYW0vCpJ+X+Tg5aJXjI5UAKV9Y3IDz7Xs0An19B2KV40S1BSvM5H/j9GAcMOEwUlheu8X9MuhYvmCkoKDe7ZfEtKry38Vt8kperXA0aYCWfxeVD+nNf4Z8N/xTqCh022tRR/84/Ma/Om7MUHuimGGbIO0Fjv5SFGm5St9TStZFExIjun+elRmK34bqW5l4krAK8lro7B3/JFV5vwd0szrcpUy3BvKjJXCyoCjXmWqoQcZpynP8cPPYU3mhrY7uy5Q4jwBcsObPfw+/S87ej/AcDOfw==&lt;/diagram&gt;&lt;/mxfile&gt;&quot;}"></div>
<script type="text/javascript" src="https://app.diagrams.net/js/viewer.min.js"></script>

## Development

### Research

During this stage, suppliers will conduct any initial engagement, research etc.. required to get development underway. The UEC Booking demonstrator is a useful tool for this stage (see <a href="http://appointments.directoryofservices.nhs.uk:443/poc/index" target="_blank">here</a>).

### Development Complete

Once Development is complete, the sullplier can move onto Integration Testing.


## Integration Testing

Integration testing can be a challenging step. It involves gaining access to the SPINE Integration Environment (INT).
There are a series of prerequestites and steps to complete before you can begin integration testing.
'''JSON
    Pre-Req 

    HSCN connectivity 

    Started on-boarding (SCAL) process with SA 

 

    Get connectivity as in here https://digital.nhs.uk/services/path-to-live-environments#top 

https://digital.nhs.uk/services/path-to-live-environments/connect-to-a-path-to-live-environment 

 

    1 Register or modify your FQDN with the NHS' DNS service 

    DNS request form 

    You need to know what your URL is, see here for how to do that:  

    2 Register or modify your messaging product with Spine 

    MPV registration request form 

    3 Request new certificates and/or create or modify endpoints 

    Combined endpoint and service registration request form 

 

    Configure your environment to connect to SSP: 

    Install the cert you have been given to local cert store and bind you your site e.g. – xxx.thirdparty.nhs.uk etc 

    Configure your firewall to make outbound connections to: https://proxy.int.spine2.ncrs.nhs.uk/[provider service root url]/[fhir request] 

     (see https://digital.nhs.uk/services/path-to-live-environments/integration-environment#messaging-urls) for more information 

    Configure your firewall to receive connection inbound from msg-out.int.spine2.ncrs.nhs.uk  

    (See here for more information: https://digital.nhs.uk/services/path-to-live-environments/integration-environment#outbound-network-address-translation-nat-addresses 

    Root CA and Sub ca installed in cert store and added to bindings for local site in SSL/TLS  - as described here: https://digital.nhs.uk/services/path-to-live-environments/integration-environment#rootca-and-subca-certificates 

    Note, contrary to the information in that link, PLEASE ENSURE YOU PUT BOTH CERTIFICATES IN (SHA1 + SHA2)!! 

    (See documentation for more information: https://digital.nhs.uk/services/path-to-live-environments/integration-environment) 

    Configure and check Certificate revocation (CRL checks) for both old (SHA1) and new (SHA2) root certs. 

    They use different revocation methods 

    New (SHA2) needs the following: 

     http://crl.nhs.uk/int/1c/crlc2.crl - for SHA2.  The Subca/Rootca will point to this URL.  This URL will download a CRL file locally and will add CRL checks in.  Local TLS should be configured to go check this file.  It is on the INTERNET – ie configure firewall outbound to be able to go to this URL over the internet. 

    Old (SHA1) needs the following: 

    The CDP is a relative request to an LDAP query!  This is not live and not accessible. 

    So the process required is to download the file and load it locally into the CRL cache and then configure the service to not check for a new file! 

    The CRL files can be downloaded from here:  http://checkit/public/pki/crls.php.  This is on HSCN. This file is updated every day.  However it is large, and so it is acceptable to have a batch process which updates it on a longer schedule.  I recommend once per week.  For your clients you will obviously need this to be a batch process to download and install. 

    Note – you need to find the correct CRL file for the right SSP integration or live environment 

    In IIS there is a way of setting IIS CRL use to default to the cached file and use that even if the file downloaded CRL expiry date is in the past. " If CertCheckMode is set to 2 Certificate revocation verification will be done based on the cached CRL on the IIS server. IIS will not try to connect to the remote server to download the CRL even if it has expired and in which case CRL verification will obviously fail." I think that means from in here: https://docs.microsoft.com/en-gb/windows/win32/api/http/ns-http-http_service_config_ssl_param?redirectedfrom=MSDN, the DefaultCertCheckMode is set to 2.   
'''
 

 
### End-to-End test

## Assure

### Technical Conformance Certificate

## Provider Testing

### End-User Organisation Connection Policy (EUOCP)

## Technical Live

### Business Live
